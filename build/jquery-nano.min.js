"use strict";const $=function(){class e{constructor(e){this.nodes=e}get length(){return this.nodes.length}get(e){return this.nodes[e]}ready(e){"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e)}first(){return new e([this.get(0)])}addClass(e){return this.nodes.forEach(t=>{t.classList.add(e)}),this}removeClass(e){return this.nodes.forEach(t=>{t.classList.remove(e)}),this}toggleClass(e,t){return this.nodes.forEach(n=>{n.classList.toggle(e,t)}),this}hasClass(e){return!!this.nodes.length&&!this.nodes.find(t=>!t.classList.contains(e))}after(e){return this.manipulate(e,"afterend",HTMLElement.prototype.after)}before(e){return this.manipulate(e,"beforebegin",HTMLElement.prototype.before)}append(e){return this.manipulate(e,"beforeend",HTMLElement.prototype.append)}prepend(e){return this.manipulate(e,"afterbegin",HTMLElement.prototype.prepend)}manipulate(t,n,s){return this.nodes.forEach(r=>{"string"==typeof t?r.insertAdjacentHTML(n,t):t instanceof e?s.apply(r,t.nodes):t instanceof Node&&s.call(r,t)}),this}text(){return this.nodes.reduce((e,t)=>e+t.textContent,"")}val(e){if(void 0===e)switch(this.nodes.length){case 0:return;case 1:return this.nodes[0].value;default:return""}return this.nodes.forEach(t=>{t.value=e}),this}attr(e,t){return void 0===t?this.nodes.length?this.nodes[0].getAttribute(e):void 0:(this.nodes.forEach(n=>{n.setAttribute(e,t)}),this)}removeAttr(e){return this.nodes.forEach(t=>{t.removeAttribute(e)}),this}html(e){return void 0===e?this.nodes.reduce((e,t)=>e+t.innerHTML,""):(this.nodes.forEach(t=>{t.innerHTML=e}),this)}each(e){return this.nodes.forEach((t,n)=>{e.call(t,n,t)}),this}map(e){return this.nodes.map((t,n)=>e.call(t,n,t))}show(){return this.nodes.forEach(e=>{e.style.display=""}),this}hide(){return this.nodes.forEach(e=>{e.style.display="none"}),this}remove(){return this.nodes.forEach(e=>{e.parentNode&&e.parentNode.removeChild(e)}),this}toggle(e){return void 0===e?this.nodes.forEach(e=>{e.style.display="none"===e.style.display?"":"none"}):e?this.show():this.hide(),this}focus(){return this.nodes[0]&&this.nodes[0].focus(),this}find(t){const n=[];return this.nodes.forEach(e=>{n.push(...e.querySelectorAll(t))}),new e([...new Set(n)])}on(e,...t){return this.nodes.forEach(n=>{n.addEventListener(e,"function"==typeof t[0]?function(e){!1===t[0].call(n,e)&&e.preventDefault()}:function(e){for(let n=e.target;n&&n!==this;n=n.parentNode)if(n.matches(t[0])){!1===t[1].call(n,e)&&e.preventDefault();break}})}),this}parent(){return new e([...new Set(this.nodes.map(e=>e.parentNode))])}siblings(){const t=[];return this.nodes.forEach(e=>{t.push(...Array.prototype.filter.call(e.parentNode.children,t=>t!==e))}),new e(t)}parents(t){const n=[];return this.nodes.forEach(e=>{let s=e;for(;s=s.parentNode;)if(s.matches(t)){n.push(s);break}}),new e([...new Set(n)])}filter(t){return"string"==typeof t?new e(this.nodes.filter(e=>e.matches(t))):"function"==typeof t?new e(this.nodes.filter(t)):void 0}serialize(){return Array.from(new FormData(this.nodes[0]),e=>e.map(encodeURIComponent).join("=")).join("&")}click(e){return this.on("click",e)}submit(e){return this.on("submit",e)}keyup(e){return this.on("keyup",e)}}const t=function(n){let s=[];if("string"==typeof n){if(!(n=n.trim()).length)return null;if("<"===n[0]){const e=document.createElement("div");e.insertAdjacentHTML("afterbegin",n),s=[e.firstChild]}else s=Array.from(document.querySelectorAll(n))}else if("function"==typeof n)t(document).ready(n);else{if(!(n&&n.tagName||n===document))return null;s=[n]}return new e(s)};return t.ajaxSetup=function(e){this.ajaxOptions=Object.assign({headers:{}},e)},t.ajax=function(e){e=Object.assign({method:"get",dataType:"html"},e);const t=Object.assign({},this.ajaxOptions.headers),n="json"===e.dataType.toLowerCase();return"post"===e.method.toLowerCase()&&(t["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),n&&(t.Accept="application/json"),new Promise(function(s,r){const o=new XMLHttpRequest;o.onload=function(){this.status>=200&&this.status<400?s(n?JSON.parse(this.response):this.response):(n&&(o.responseJSON=JSON.parse(o.responseText)),r(o))},o.onerror=function(){r(o)},"post"===e.method.toLowerCase()?(o.open("POST",e.url),Object.keys(t).forEach(e=>{o.setRequestHeader(e,t[e])}),o.send(e.data)):(o.open("GET",e.url+("data"in e?"?"+Object.keys(e.data).map(t=>t+"="+encodeURIComponent(e.data[t])).join("&"):"")),Object.keys(t).forEach(e=>{o.setRequestHeader(e,t[e])}),o.send())})},t.debounce=function(e,t){let n=null;return function(){clearTimeout(n),n=setTimeout(()=>e.apply(this,arguments),t)}},t.throttle=function(e,t){let n=!1;return function(){n||(e.apply(this,arguments),n=!0,setTimeout(()=>n=!1,t))}},t}();