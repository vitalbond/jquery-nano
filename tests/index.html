<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>jQueryNano</title>

	<script src="../build/jquery-nano.min.js"></script>

	<style>
		table {
			border-collapse: collapse;
			margin: auto;
		}

		td, th {
			border: 1px solid #ccc;
			padding: 5px;
		}

		.ok {
			color: green;
		}

		.ok:after {
			content: 'OK!';
		}

		.error {
			color: red;
		}

		.error:after {
			content: 'Error!';
		}
	</style>

	<script>
		function el(id) {
			return document.getElementById(id);
		}

		function ok(id, cond = true) {
			if (cond) {
				const e = el(id);
				e.classList.add('ok');
				e.classList.remove('error');
			}
		}
	</script>
</head>
<body>

<table>
	<tr>
		<th>Test</th>
		<th>Result</th>
	<tr>
		<td>$(document).ready(fn)</td>
		<td id="res_ready" class="error">
			<script>$(document).ready(() => { ok('res_ready'); })</script>
		</td>
	</tr>
	<tr>
		<td>$(fn)</td>
		<td id="res_ready2" class="error">
			<script>$(() => { ok('res_ready2'); })</script>
		</td>
	</tr>
	<tr>
		<td id="test_selectors">Selectors / .length<span /><span /><span /></td>
		<td id="res_selectors" class="error">
			<script>$(() => { ok('res_selectors', $('#test_selectors span').length === 3 && !$('#test_selectors div').length); })</script>
		</td>
	</tr>
	<tr>
		<td id="test_get">.get(n)<span class="first" /><span class="second" /><span /></td>
		<td id="res_get" class="error">
			<script>$(() => { ok('res_get', $('#test_get span').get(0).classList.contains('first') && $('#test_get span').get(1).classList.contains('second')); })</script>
		</td>
	</tr>
	<tr><td colspan="2">Manipulations</td></tr>
	<tr>
		<td id="test_addclass">.addClass()<span></span><span></span></td>
		<td id="res_addclass" class="error">
			<script>$(() => {
				$('#test_addclass span').addClass('test');
				ok('res_addclass', document.querySelectorAll('#test_addclass span.test').length === 2);
			})</script>
		</td>
	</tr>
	<tr>
		<td id="test_removeclass">.removeClass()<span class="test"></span><span class="test"></span></td>
		<td id="res_removeclass" class="error">
			<script>$(() => {
				$('#test_removeclass span').removeClass('test');
				ok('res_removeclass', document.querySelectorAll('#test_removeclass span.test').length === 0);
			})</script>
		</td>
	</tr>
	<tr>
		<td id="test_toggleclass">.toggleClass()<span class="test"></span><span></span></td>
		<td id="res_toggleclass" class="error">
			<script>$(() => {
				let res = true;
				$('#test_toggleclass span').toggleClass('test');
				res = res
				  && !$('#test_toggleclass span').get(0).classList.contains('test')
				  && $('#test_toggleclass span').get(1).classList.contains('test');
				$('#test_toggleclass span').toggleClass('test', true);
				res = res
					&& $('#test_toggleclass span').get(0).classList.contains('test')
					&& $('#test_toggleclass span').get(1).classList.contains('test');
				$('#test_toggleclass span').toggleClass('test', false);
				res = res
					&& !$('#test_toggleclass span').get(0).classList.contains('test')
					&& !$('#test_toggleclass span').get(1).classList.contains('test');
				ok('res_toggleclass', res);
			})</script>
		</td>
	</tr>
	<tr>
		<td id="test_hasclass">.hasClass()<span class="test test2"></span><span class="test"></span></td>
		<td id="res_hasclass" class="error">
			<script>$(() => {
				ok('res_hasclass', $('#test_hasclass span').hasClass('test') && !$('#test_hasclass span').hasClass('test2'));
			})</script>
		</td>
	</tr>
	<tr>
		<td id="test_after">.after(content)<div style="display: none;"><span class="span1"></span></div></td>
		<td id="res_after" class="error">
			<script>$(() => {
				$('#test_after .span1').after('<span class="span2"></span>');
				$('#test_after .span1').after('Text');
				const el = document.createElement('span');
				el.className = 'span3'
				$('#test_after .span1').after(el);
				$('#test_after .span1').after($('<span class="span4"></span>'));
				ok(
				  'res_after',
				  $('#test_after span').get(1).classList.contains('span4')
				  && $('#test_after span').get(2).classList.contains('span3')
				  && $('#test_after span').get(3).classList.contains('span2')
				  && $('#test_after div').get(0).innerText === 'Text'
				);
			})</script>
		</td>
	</tr>
	<tr>
		<td id="test_before">.before(content)<div style="display: none;"><span class="span1"></span></div></td>
		<td id="res_before" class="error">
			<script>$(() => {
			$('#test_before .span1').before('<span class="span2"></span>');
			$('#test_before .span1').before('Text');
			const el = document.createElement('span');
			el.className = 'span3'
			$('#test_before .span1').before(el);
			$('#test_before .span1').before($('<span class="span4"></span>'));
			ok(
				'res_before',
				$('#test_before span').get(0).classList.contains('span2')
				&& $('#test_before span').get(1).classList.contains('span3')
				&& $('#test_before span').get(2).classList.contains('span4')
				&& $('#test_before div').get(0).innerText === 'Text'
			);
		})</script>
		</td>
	</tr>
	<tr>
		<td id="test_append">.append(content)<div style="display: none;"><span class="span1"></span></div></td>
		<td id="res_append" class="error">
			<script>$(() => {
				$('#test_append .span1').append('<span class="span2"></span>');
				$('#test_append .span1').append('Text');
				const el = document.createElement('span');
				el.className = 'span3'
				$('#test_append .span1').append(el);
				$('#test_append .span1').append($('<span class="span4"></span>'));
				ok(
					'res_append',
					$('#test_append .span1 span').get(0).classList.contains('span2')
					&& $('#test_append .span1 span').get(1).classList.contains('span3')
					&& $('#test_append .span1 span').get(2).classList.contains('span4')
					&& $('#test_append .span1').get(0).innerText === 'Text'
				);
			})</script>
		</td>
	</tr>
	<tr>
		<td id="test_prepend">.prepend(content)<div style="display: none;"><span class="span1"></span></div></td>
		<td id="res_prepend" class="error">
			<script>$(() => {
				$('#test_prepend .span1').prepend('<span class="span2"></span>');
				$('#test_prepend .span1').prepend('Text');
				const el = document.createElement('span');
				el.className = 'span3'
				$('#test_prepend .span1').prepend(el);
				$('#test_prepend .span1').prepend($('<span class="span4"></span>'));
				ok(
					'res_prepend',
					$('#test_prepend .span1 span').get(0).classList.contains('span4')
					&& $('#test_prepend .span1 span').get(1).classList.contains('span3')
					&& $('#test_prepend .span1 span').get(2).classList.contains('span2')
					&& $('#test_prepend .span1').get(0).innerText === 'Text'
				);
			})</script>
		</td>
	</tr>
	<tr>
		<td id="test_text">.text()<div style="display: none;"><span class="span1">test</span></div></td>
		<td id="res_text" class="error">
			<script>$(() => {
				ok(
					'res_text',
					$('#test_text .span1').text() === 'test'
				);
			})</script>
		</td>
	</tr>
	<tr>
		<td id="test_val">.val()<div style="display: none;"><input value="test" /><select><option value="1">1</option><option value="2" selected>2</option></select></div></td>
		<td id="res_val" class="error">
			<script>$(() => {
				ok(
					'res_val',
					$('#test_val input').val() === 'test'
				  	&& $('#test_val select').val() === '2'
				    && $('#test_val input').val('changed')
				  	&& $('#test_val input').val() === 'changed'
					&& $('#test_val select').val('1')
					&& $('#test_val select').val() === '1'
				);
			})</script>
		</td>
	</tr>
	<tr>
		<td id="test_attr">.attr()<div style="display: none;"><span data-value="test"></span></div></td>
		<td id="res_attr" class="error">
			<script>$(() => {
				ok(
					'res_attr',
					$('#test_attr span').attr('data-value') === 'test'
					&& $('#test_attr span').attr('data-no-value') === null
					&& $('#test_attr span').attr('data-value', 'changed')
					&& $('#test_attr span').attr('data-value') === 'changed'
					&& $('#test_attr span').removeAttr('data-value')
					&& $('#test_attr span').attr('data-value') === null
				);
			})</script>
		</td>
	</tr>
</table>

</body>
</html>
